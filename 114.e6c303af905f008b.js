"use strict";(self.webpackChunkMyPRJ=self.webpackChunkMyPRJ||[]).push([[114],{2114:(x,f,s)=>{s.r(f),s.d(f,{EnglishLmgModule:()=>S});var c=s(6814),p=s(1567),n=s(5879),C=s(4004);let y=(()=>{class a{constructor(){}generateUUID(){return(0,C.Z)()}static#n=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),M=(()=>{class a{constructor(){this.DairyItems=[]}setItems(e){this.DairyItems=e}getItems(){return this.DairyItems}addItem(e){this.DairyItems.push(e)}delItem(e){this.DairyItems.splice(e,1)}editItem(e,o){this.DairyItems[e]=o}static#n=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var d=s(95),m=s(824),T=s(9382),z=s(2920),h=s(3649),_=s(2962);function W(a,q){if(1&a){const e=n.EpF();n.TgZ(0,"nz-card",28),n.NdJ("click",function(){const i=n.CHM(e).$implicit,r=n.oxw();return n.KtG(r.onCardClick(i))}),n.TgZ(1,"p",29),n._uU(2),n.qZA(),n.TgZ(3,"p"),n._uU(4),n.qZA()()}if(2&a){const e=q.$implicit;n.xp6(2),n.Oqu(e.date),n.xp6(2),n.Oqu(e.q1)}}const u=function(){return{minRows:5,maxRows:10}},Z=[{path:"",component:(()=>{class a{constructor(e,o,t,i){this.router=e,this.uuidService=o,this.datePipe=t,this.dairyService=i,this.When="",this.What="",this.Where="",this.Who="",this.Why="",this.Tale="",this.STale="",this.RTale="",this.Resum="",this.dairys=[]}ngOnInit(){this.uniqueId=this.uuidService.generateUUID(),this.dairys=JSON.parse(localStorage.getItem("dairys")||"{}"),this.dairyService.setItems(this.dairys)}onCardClick(e){this.idCard=e.id,this.CDate=e.date,this.When=e.q1,this.Who=e.q2,this.What=e.q3,this.Where=e.q4,this.Why=e.q5,this.Tale=e.Tale,this.STale=e.STale,this.RTale=e.RTale,this.Resum=e.Resum}MakeADD(){const e=this.uuidService.generateUUID();this.dairy={id:e,date:this.CDate,q1:this.When,q2:this.Who,q3:this.What,q4:this.Where,q5:this.Why,Tale:this.Tale,STale:this.STale,RTale:this.RTale,Resum:this.Resum},confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u044e\u044e \u0437\u0430\u043f\u0438\u0441\u044c \u043e\u0442  "+this.CDate+" ?")&&this.dairyService.addItem(this.dairy)}MakeDel(){if(confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c \u043e\u0442  "+this.CDate+" ?")){const o=this.idCard,t=this.dairys.findIndex(i=>i.id===o);t>-1&&this.dairyService.delItem(t)}}MakePUT(){const e=this.idCard,o=this.dairys.findIndex(t=>t.id===e);o>-1&&(this.dairy={id:this.idCard,date:this.CDate,q1:this.When,q2:this.Who,q3:this.What,q4:this.Where,q5:this.Why,Tale:this.Tale,STale:this.STale,RTale:this.RTale,Resum:this.Resum},confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u043e\u0442  "+this.CDate+" ?")&&this.dairyService.editItem(o,this.dairy))}MakeCompile(){this.Tale=this.When+" "+this.Who+" "+this.What+" "+this.Where+" "+this.Why}ngOnDestroy(){}refreshPage(){this.router.navigate([this.router.url]).then(()=>{window.location.reload()})}openTranslate(e){const i=`https://www.deepl.com/ru/translator#ru/en/${encodeURIComponent(e)}`;window.open(i,"_blank")}get DairyItems(){return this.dairyService.getItems()}onFileSelected(e){const o=e.target;if(o.files&&o.files.length){const t=o.files[0];console.log(o.files[0]);const i=new FileReader;i.onload=r=>{const A=r.target?.result;try{const g=JSON.parse(A);if(!g.Dairy||!Array.isArray(g.Dairy))throw new Error("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 JSON");this.dairys=g.Dairy.map(l=>({id:l.id,date:l.date,q1:l.q1,q2:l.q2,q3:l.q3,q4:l.q4,q5:l.q5,Tale:l.Tale,STale:l.STale,RTale:l.RTale,Resum:l.Resum})),this.dairyService.setItems(this.dairys)}catch(g){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0435 JSON",g)}},i.readAsText(t)}}formatDate(e){return this.datePipe.transform(e,"dd-MM-yyyy")||""}downloadFile(){let e=JSON.stringify(this.dairyService.getItems());localStorage.setItem("dairys",e),e='{"Dairy":'+e+"}";const o=new Blob([e],{type:"application/json"}),t=window.URL.createObjectURL(o),i=document.createElement("a");i.href=t,i.download="Dairy.json",document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(t),document.body.removeChild(i)}static#n=this.\u0275fac=function(o){return new(o||a)(n.Y36(p.F0),n.Y36(y),n.Y36(c.uU),n.Y36(M))};static#e=this.\u0275cmp=n.Xpm({type:a,selectors:[["app-english-lng"]],features:[n._Bn([c.uU])],decls:59,vars:32,consts:[["nzTitle","Dairy"],["type","file",3,"change"],[3,"click"],[2,"background","#dbb8e9","padding","5px"],["nz-row","",3,"nzGutter"],["style","width:200px; margin:10px; padding:5px;",3,"click",4,"ngFor","ngForOf"],["nzTitle","Questions"],["nz-form",""],["name","ADD",3,"click"],["name","DEL",3,"click"],["name","PUT",3,"click"],["nzFor","Date",3,"nzSpan"],[3,"nzSpan"],["nz-input","","name","CDate","type","date","id","CDate",3,"ngModel","ngModelChange"],["nzFor","When",3,"nzSpan"],["nz-input","","name","When","type","text","id","When",3,"ngModel","ngModelChange"],["nzFor","Who",3,"nzSpan"],["nz-input","","name","Who","type","text","id","Who",3,"ngModel","ngModelChange"],["nzFor","What",3,"nzSpan"],["nz-input","","name","What","type","text","id","What",3,"ngModel","ngModelChange"],["nzFor","Where",3,"nzSpan"],["nz-input","","name","Where","type","text","id","Where",3,"ngModel","ngModelChange"],["nzFor","Why",3,"nzSpan"],["nz-input","","name","Why","type","text","id","Why",3,"ngModel","ngModelChange"],["nzTitle","Tale"],["name","CMP",3,"click"],["nz-input","","placeholder","Controlled autosize",3,"ngModel","nzAutosize","ngModelChange"],["nzTitle","Resum"],[2,"width","200px","margin","10px","padding","5px",3,"click"],[2,"margin","1px","padding","1px"]],template:function(o,t){1&o&&(n.TgZ(0,"nz-tabset")(1,"nz-tab",0)(2,"input",1),n.NdJ("change",function(r){return t.onFileSelected(r)}),n.qZA(),n.TgZ(3,"button",2),n.NdJ("click",function(){return t.downloadFile()}),n._uU(4,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),n.qZA(),n.TgZ(5,"div",3)(6,"div",4),n.YNc(7,W,5,2,"nz-card",5),n.qZA()()(),n.TgZ(8,"nz-tab",6)(9,"form",7)(10,"button",8),n.NdJ("click",function(){return t.MakeADD()}),n._uU(11,"ADD"),n.qZA(),n.TgZ(12,"button",9),n.NdJ("click",function(){return t.MakeDel()}),n._uU(13,"DEL"),n.qZA(),n.TgZ(14,"button",10),n.NdJ("click",function(){return t.MakePUT()}),n._uU(15,"PUT"),n.qZA(),n.TgZ(16,"div",3)(17,"nz-form-item")(18,"nz-form-label",11),n._uU(19,"CDate"),n.qZA(),n.TgZ(20,"nz-form-control",12)(21,"input",13),n.NdJ("ngModelChange",function(r){return t.CDate=r}),n.qZA()()(),n.TgZ(22,"nz-form-item")(23,"nz-form-label",14),n._uU(24,"When?"),n.qZA(),n.TgZ(25,"nz-form-control",12)(26,"input",15),n.NdJ("ngModelChange",function(r){return t.When=r}),n.qZA()()(),n.TgZ(27,"nz-form-item")(28,"nz-form-label",16),n._uU(29,"Who?"),n.qZA(),n.TgZ(30,"nz-form-control",12)(31,"input",17),n.NdJ("ngModelChange",function(r){return t.Who=r}),n.qZA()()(),n.TgZ(32,"nz-form-item")(33,"nz-form-label",18),n._uU(34,"What?"),n.qZA(),n.TgZ(35,"nz-form-control",12)(36,"input",19),n.NdJ("ngModelChange",function(r){return t.What=r}),n.qZA()()(),n.TgZ(37,"nz-form-item")(38,"nz-form-label",20),n._uU(39,"Where?"),n.qZA(),n.TgZ(40,"nz-form-control",12)(41,"input",21),n.NdJ("ngModelChange",function(r){return t.Where=r}),n.qZA()()(),n.TgZ(42,"nz-form-item")(43,"nz-form-label",22),n._uU(44,"Why?"),n.qZA(),n.TgZ(45,"nz-form-control",12)(46,"input",23),n.NdJ("ngModelChange",function(r){return t.Why=r}),n.qZA()()()()()(),n.TgZ(47,"nz-tab",24)(48,"div",3)(49,"button",25),n.NdJ("click",function(){return t.MakeCompile()}),n._uU(50,"CMP"),n.qZA(),n.TgZ(51,"textarea",26),n.NdJ("ngModelChange",function(r){return t.Tale=r}),n.qZA(),n.TgZ(52,"textarea",26),n.NdJ("ngModelChange",function(r){return t.STale=r}),n.qZA(),n.TgZ(53,"button",2),n.NdJ("click",function(){return t.openTranslate(t.RTale)}),n._uU(54,"TRN"),n.qZA(),n.TgZ(55,"textarea",26),n.NdJ("ngModelChange",function(r){return t.RTale=r}),n.qZA()()(),n.TgZ(56,"nz-tab",27)(57,"div",3)(58,"textarea",26),n.NdJ("ngModelChange",function(r){return t.Resum=r}),n.qZA()()()()),2&o&&(n.xp6(6),n.Q6J("nzGutter",2),n.xp6(1),n.Q6J("ngForOf",t.DairyItems),n.xp6(11),n.Q6J("nzSpan",2),n.xp6(2),n.Q6J("nzSpan",26),n.xp6(1),n.Q6J("ngModel",t.CDate),n.xp6(2),n.Q6J("nzSpan",2),n.xp6(2),n.Q6J("nzSpan",26),n.xp6(1),n.Q6J("ngModel",t.When),n.xp6(2),n.Q6J("nzSpan",2),n.xp6(2),n.Q6J("nzSpan",26),n.xp6(1),n.Q6J("ngModel",t.Who),n.xp6(2),n.Q6J("nzSpan",2),n.xp6(2),n.Q6J("nzSpan",26),n.xp6(1),n.Q6J("ngModel",t.What),n.xp6(2),n.Q6J("nzSpan",2),n.xp6(2),n.Q6J("nzSpan",26),n.xp6(1),n.Q6J("ngModel",t.Where),n.xp6(2),n.Q6J("nzSpan",2),n.xp6(2),n.Q6J("nzSpan",26),n.xp6(1),n.Q6J("ngModel",t.Why),n.xp6(5),n.Q6J("ngModel",t.Tale)("nzAutosize",n.DdM(28,u)),n.xp6(1),n.Q6J("ngModel",t.STale)("nzAutosize",n.DdM(29,u)),n.xp6(3),n.Q6J("ngModel",t.RTale)("nzAutosize",n.DdM(30,u)),n.xp6(3),n.Q6J("ngModel",t.Resum)("nzAutosize",n.DdM(31,u)))},dependencies:[d._Y,d.Fj,d.JJ,d.JL,d.On,d.F,m.Zp,m.rh,c.sg,T.xH,T.xw,z.t3,z.SK,h.Lr,h.Nx,h.iK,h.Fd,_.bd],styles:[".bordered-form[_ngcontent-%COMP%]{border:1px solid #e72727;padding:16px;border-radius:4px}"]})}return a})()}];let J=(()=>{class a{static#n=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275mod=n.oAB({type:a});static#t=this.\u0275inj=n.cJS({imports:[p.Bz.forChild(Z),p.Bz]})}return a})(),S=(()=>{class a{static#n=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275mod=n.oAB({type:a});static#t=this.\u0275inj=n.cJS({imports:[J,d.u5,d.UX,m.o7,c.ez,T.we,h.U5,_.vh]})}return a})()}}]);